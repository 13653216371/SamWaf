import{d as f,C as A,m as B,n as E}from"./index.46025505.js";import{T as L}from"./index.3aedcce4.js";import{P as T}from"./index.7a4a7c97.js";import{L as I}from"./date.bd30d003.js";import{_ as y,T as z,D as P,V as N,G as M,aa as $,ab as k,$ as O,ac as _,ad as R,C as V,I as D,ae as H,H as s,F as b,af as W,J as U,K as g,R as Y,Q as G,O as j,M as J,N as K}from"./install.ed13410d.js";var Q=function(r){y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,a){return z(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t==null?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t==null?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,a,i){return i.point(a.getItemLayout(t))},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}}},e}(P),X=Q,x=4,Z=function(){function r(){}return r}(),m=function(r){y(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Z},e.prototype.buildPath=function(t,a){var i=a.points,n=a.size,u=this.symbolProxy,o=u.shape,l=t.getContext?t.getContext():t,c=l&&n[0]<x;if(c){this._ctx=l;return}this._ctx=null;for(var h=0;h<i.length;){var p=i[h++],d=i[h++];isNaN(p)||isNaN(d)||this.softClipShape&&!this.softClipShape.contain(p,d)||(o.x=p-n[0]/2,o.y=d-n[1]/2,o.width=n[0],o.height=n[1],u.buildPath(t,o,!0))}},e.prototype.afterBrush=function(){var t=this.shape,a=t.points,i=t.size,n=this._ctx;if(!!n)for(var u=0;u<a.length;){var o=a[u++],l=a[u++];isNaN(o)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(o,l)||n.fillRect(o-i[0]/2,l-i[1]/2,i[0],i[1])}},e.prototype.findDataIndex=function(t,a){for(var i=this.shape,n=i.points,u=i.size,o=Math.max(u[0],4),l=Math.max(u[1],4),c=n.length/2-1;c>=0;c--){var h=c*2,p=n[h]-o/2,d=n[h+1]-l/2;if(t>=p&&a>=d&&t<=p+o&&a<=d+l)return c}return-1},e}(N),q=function(){function r(){this.group=new M}return r.prototype.isPersistent=function(){return!this._incremental},r.prototype.updateData=function(e,t){this.group.removeAll();var a=new m({rectHover:!0,cursor:"default"});a.setShape({points:e.getLayout("points")}),this._setCommon(a,e,!1,t),this.group.add(a),this._incremental=null},r.prototype.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("points");this.group.eachChild(function(a){if(a.startIndex!=null){var i=(a.endIndex-a.startIndex)*2,n=a.startIndex*4*2;t=new Float32Array(t.buffer,n,i)}a.setShape("points",t)})}},r.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new $({silent:!0})),this.group.add(this._incremental)):this._incremental=null},r.prototype.incrementalUpdate=function(e,t,a){var i;this._incremental?(i=new m,this._incremental.addDisplayable(i,!0)):(i=new m({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end}),i.incremental=!0,this.group.add(i)),i.setShape({points:t.getLayout("points")}),this._setCommon(i,t,!!this._incremental,a)},r.prototype._setCommon=function(e,t,a,i){var n=t.hostModel;i=i||{};var u=t.getVisual("symbolSize");e.setShape("size",u instanceof Array?u:[u,u]),e.softClipShape=i.clipShape||null,e.symbolProxy=k(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<x;e.useStyle(n.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var l=t.getVisual("style"),c=l&&l.fill;if(c&&e.setColor(c),!a){var h=O(e);h.seriesIndex=n.seriesIndex,e.on("mousemove",function(p){h.dataIndex=null;var d=e.findDataIndex(p.offsetX,p.offsetY);d>=0&&(h.dataIndex=d+(e.startIndex||0))})}},r.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},r.prototype._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},r}(),tt=q,et=function(r){y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,a,i){var n=t.getData(),u=this._updateSymbolDraw(n,t);u.updateData(n,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,a,i){var n=t.getData(),u=this._updateSymbolDraw(n,t);u.incrementalPrepareUpdate(n),this._finished=!1},e.prototype.incrementalRender=function(t,a,i){this._symbolDraw.incrementalUpdate(t,a.getData(),{clipShape:this._getClipShape(a)}),this._finished=t.end===a.getData().count()},e.prototype.updateTransform=function(t,a,i){var n=t.getData();if(this.group.dirty(),!this._finished||n.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var u=_("").reset(t,a,i);u.progress&&u.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout(n)},e.prototype._getClipShape=function(t){var a=t.coordinateSystem,i=a&&a.getArea&&a.getArea();return t.get("clip",!0)?i:null},e.prototype._updateSymbolDraw=function(t,a){var i=this._symbolDraw,n=a.pipelineContext,u=n.large;return(!i||u!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=u?new tt:new R,this._isLargeDraw=u,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,a){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(V),rt=et;function at(r){D(H),r.registerSeriesModel(X),r.registerChartView(rt),r.registerLayout(_("scatter"))}const it=[{title:"\u603B\u7533\u8BF7\u6570\uFF08\u6B21\uFF09",number:"1126",upTrend:"10%"},{title:"\u4F9B\u5E94\u5546\u6570\u91CF\uFF08\u4E2A\uFF09",number:"13",downTrend:"13%"},{title:"\u91C7\u8D2D\u5546\u54C1\u54C1\u7C7B\uFF08\u7C7B\uFF09",number:"4",upTrend:"10%"},{title:"\u7533\u8BF7\u4EBA\u6570\u91CF\uFF08\u4EBA\uFF09",number:90,downTrend:"44%",leftType:"icon-file-paste"},{title:"\u7533\u8BF7\u5B8C\u6210\u7387\uFF08%\uFF09",number:80.5,upTrend:"70%"},{title:"\u5230\u8D27\u53CA\u65F6\u7387\uFF08%\uFF09",number:78,upTrend:"16%"}],nt=[{description:"SSL\u8BC1\u4E66\u53C8\u53EB\u670D\u52A1\u5668\u8BC1\u4E66\uFF0C\u817E\u8BAF\u4E91\u4E3A\u60A8\u63D0\u4F9B\u8BC1\u4E66\u7684\u4E00\u7AD9\u5F0F\u670D\u52A1\uFF0C\u5305\u62EC\u514D\u8D39\u3001\u4ED8\u8D39\u8BC1\u4E66\u7684\u7533\u8BF7\u3001\u7BA1\u7406\u53CA\u90E8",index:1,isSetup:!0,name:"SSL\u8BC1\u4E66",type:4},{description:"SSL\u8BC1\u4E66\u53C8\u53EB\u670D\u52A1\u5668\u8BC1\u4E66\uFF0C\u817E\u8BAF\u4E91\u4E3A\u60A8\u63D0\u4F9B\u8BC1\u4E66\u7684\u4E00\u7AD9\u5F0F\u670D\u52A1\uFF0C\u5305\u62EC\u514D\u8D39\u3001\u4ED8\u8D39\u8BC1\u4E66\u7684\u7533\u8BF7\u3001\u7BA1\u7406\u53CA\u90E8",index:1,isSetup:!0,name:"SSL\u8BC1\u4E66",type:4}];function C({dateTime:r=[],placeholderColor:e,borderColor:t}){const i=[],n=[],u=[];for(let o=0;o<40;o++){if(r.length>0){const l=(new Date(r[1]).getTime()-new Date(r[0]).getTime())/40,c=new Date(r[0]).getTime()+l*o;i.push(f(c).format("MM-DD"))}else i.push(f().subtract(40-o,"day").format("MM-DD"));n.push(s().toString()),u.push(s().toString())}return{color:b(),xAxis:{data:i,axisLabel:{color:e},splitLine:{show:!1},axisLine:{lineStyle:{color:t,width:1}}},yAxis:{type:"value",axisLabel:{color:e},nameTextStyle:{padding:[0,0,0,60]},axisTick:{show:!1,axisLine:{show:!1}},axisLine:{show:!1},splitLine:{lineStyle:{color:t}}},tooltip:{trigger:"item"},grid:{top:"5px",left:"25px",right:"5px",bottom:"60px"},legend:{left:"center",bottom:"0",orient:"horizontal",data:["\u6309\u6469\u4EEA","\u5496\u5561\u673A"],itemHeight:8,itemWidth:8,textStyle:{fontSize:12,color:e}},series:[{name:"\u6309\u6469\u4EEA",symbolSize:10,data:u.reverse(),type:"scatter"},{name:"\u5496\u5561\u673A",symbolSize:10,data:n.concat(n.reverse()),type:"scatter"}]}}function S({dateTime:r=[],placeholderColor:e,borderColor:t}){let a=["\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D","\u5468\u65E5"];return r.length>0&&(a=W(r,7)),{color:b(),grid:{top:"5%",right:"10px",left:"30px",bottom:"60px"},legend:{left:"center",bottom:"0",orient:"horizontal",data:["\u676F\u5B50","\u8336\u53F6","\u8702\u871C","\u9762\u7C89"],textStyle:{fontSize:12,color:e}},xAxis:{type:"category",data:a,boundaryGap:!1,axisLabel:{color:e},axisLine:{lineStyle:{color:t,width:1}}},yAxis:{type:"value",axisLabel:{color:e},splitLine:{lineStyle:{color:t}}},tooltip:{trigger:"item"},series:[{showSymbol:!0,symbol:"circle",symbolSize:8,name:"\u676F\u5B50",stack:"\u603B\u91CF",data:[s(),s(),s(),s(),s(),s(),s()],type:"line",itemStyle:{normal:{borderColor:t,borderWidth:1}}},{showSymbol:!0,symbol:"circle",symbolSize:8,name:"\u8336\u53F6",stack:"\u603B\u91CF",data:[s(),s(),s(),s(),s(),s(),s()],type:"line",itemStyle:{normal:{borderColor:t,borderWidth:1}}},{showSymbol:!0,symbol:"circle",symbolSize:8,name:"\u8702\u871C",stack:"\u603B\u91CF",data:[s(),s(),s(),s(),s(),s(),s()],type:"line",itemStyle:{normal:{borderColor:t,borderWidth:1}}},{showSymbol:!0,symbol:"circle",symbolSize:8,name:"\u9762\u7C89",stack:"\u603B\u91CF",data:[s(),s(),s(),s(),s(),s(),s()],type:"line",itemStyle:{normal:{borderColor:t,borderWidth:1}}}]}}D([Y,G,j,J,at,K]);var st={name:"DashboardDetail",components:{Trend:L,ProductCard:T,ChevronRightIcon:A},data(){return{PANE_LIST_DATA:it,PRODUCT_LIST:nt,dashboardBase:"",lineContainer:"",scatterContainer:"",lineChart:"",scatterChart:"",productList:[{description:"SSL\u8BC1\u4E66\u53C8\u53EB\u670D\u52A1\u5668\u8BC1\u4E66\uFF0C\u817E\u8BAF\u4E91\u4E3A\u60A8\u63D0\u4F9B\u8BC1\u4E66\u7684\u4E00\u7AD9\u5F0F\u670D\u52A1\uFF0C\u5305\u62EC\u514D\u8D39\u3001\u4ED8\u8D39\u8BC1\u4E66\u7684\u7533\u8BF7\u3001\u7BA1\u7406\u53CA\u90E8",index:1,isSetup:!0,name:"SSL\u8BC1\u4E66",type:4}],LAST_7_DAYS:I}},computed:{...B("setting",["brandTheme","mode"])},watch:{brandTheme(){U([this.lineChart,this.scatterChart])},mode(){this.renderCharts()}},mounted(){this.$nextTick(()=>{this.updateContainer()}),this.renderCharts()},methods:{onSatisfyChange(r){const{chartColors:e}=this.$store.state.setting;this.scatterChart.setOption(C({dateTime:r,...e}))},onMaterialChange(r){const{chartColors:e}=this.$store.state.setting;this.lineChart.setOption(S({dateTime:r,...e}))},updateContainer(){var r,e,t,a;(e=(r=this.lineChart).resize)==null||e.call(r,{width:this.lineContainer.clientWidth,height:this.lineContainer.clientHeight}),(a=(t=this.scatterChart).resize)==null||a.call(t,{width:this.scatterContainer.clientWidth,height:this.scatterContainer.clientHeight})},renderCharts(){const{chartColors:r}=this.$store.state.setting;this.lineContainer||(this.lineContainer=document.getElementById("lineContainer")),this.lineChart=g(this.lineContainer),this.lineChart.setOption(S({...r})),window.addEventListener("resize",this.updateContainer,!1),this.scatterContainer||(this.scatterContainer=document.getElementById("scatterContainer")),this.scatterChart=g(this.scatterContainer),this.scatterChart.setOption(C({...r}))}}},w=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"dashboard-detail"},[t("t-card",{staticClass:"dashboard-detail-card",attrs:{title:"\u672C\u6708\u91C7\u8D2D\u7533\u8BF7\u60C5\u51B5"}},[t("t-row",{attrs:{gutter:[16,16]}},r._l(r.PANE_LIST_DATA,function(a,i){return t("t-col",{key:i,attrs:{xs:6,xl:3}},[t("t-card",{class:["dashboard-list-card"],attrs:{description:a.title}},[t("div",{staticClass:"dashboard-list-card__number"},[r._v(r._s(a.number))]),t("div",{staticClass:"dashboard-list-card__text"},[t("div",{staticClass:"dashboard-list-card__text-left"},[r._v(" \u73AF\u6BD4 "),t("trend",{staticClass:"icon",attrs:{type:a.upTrend?"up":"down",describe:a.upTrend||a.downTrend}})],1),t("chevron-right-icon")],1)])],1)}),1)],1),t("t-row",{staticClass:"row-margin",attrs:{gutter:[16,16]}},[t("t-col",{attrs:{xs:12,xl:9}},[t("t-card",{class:{"dashboard-detail-card":!0},attrs:{title:"\u91C7\u8D2D\u5546\u54C1\u7533\u8BF7\u8D8B\u52BF",subtitle:"(\u4EF6)"},scopedSlots:r._u([{key:"actions",fn:function(){return[t("t-date-range-picker",{staticStyle:{width:"250px"},attrs:{"default-value":r.LAST_7_DAYS,theme:"primary",mode:"date"},on:{change:r.onMaterialChange}})]},proxy:!0}])},[t("div",{ref:"lineContainer",staticStyle:{width:"100%",height:"410px"},attrs:{id:"lineContainer"}})])],1),t("t-col",{attrs:{xs:12,xl:3}},r._l(r.PRODUCT_LIST,function(a,i){return t("product-card",{key:i,class:{"row-margin":i!==0},attrs:{product:a}})}),1)],1),t("t-card",{staticClass:"row-margin",class:{"dashboard-detail-card":!0},attrs:{title:"\u91C7\u8D2D\u5546\u54C1\u6EE1\u610F\u5EA6\u5206\u5E03"},scopedSlots:r._u([{key:"actions",fn:function(){return[t("t-date-range-picker",{staticStyle:{display:"inline-block","margin-right":"8px",width:"250px"},attrs:{defaultValue:r.LAST_7_DAYS,theme:"primary",mode:"date"},on:{change:r.onSatisfyChange}}),t("t-button",[r._v("\u5BFC\u51FA\u6570\u636E")])]},proxy:!0}])},[t("div",{staticStyle:{width:"100%",height:"374px"},attrs:{id:"scatterContainer"}})])],1)},ut=[];w._withStripped=!0;const v={};var F=E(st,w,ut,!1,ot,"3031b59a",null,null);function ot(r){for(let e in v)this[e]=v[e]}F.options.__file="src/pages/dashboard/detail/index.vue";var mt=function(){return F.exports}();export{mt as default};
