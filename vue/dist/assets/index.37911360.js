import{V as d,_ as y,u as E,I as D,a as B,C as k,n as v,A as w,p as A}from"./index.46025505.js";import{O}from"./order-descending.def16f02.js";var P=["size"];function o(t,u){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);u&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,a)}return e}function l(t){for(var u=1;u<arguments.length;u++){var e=arguments[u]!=null?arguments[u]:{};u%2?o(Object(e),!0).forEach(function(a){B(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var x={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M1 3h1.58l1.39 8.33c.06.39.4.67.78.67H14v-1H4.92L4.6 9h8.63a.8.8 0 00.78-.6l.85-3.4a.8.8 0 00-.78-1H3.76l-.23-1.33A.8.8 0 002.75 2H1v1zm12.07 5H4.42l-.5-3h9.9l-.75 3zM4.75 14.5a.75.75 0 100-1.5.75.75 0 000 1.5zM12.81 14.5a.75.75 0 100-1.5.75.75 0 000 1.5z",fillOpacity:.9}}]},z=d.extend({name:"CartIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(u,e){var a=e.props,s=e.data,r=a.size,f=y(a,P),n=E(r),h=n.className,F=n.style,b=l(l({},f||{}),{},{id:"cart",icon:x,staticClass:h,style:F});return s.props=b,u(D,s)}});class I{getBaseInfoData(){return[{name:"\u5408\u540C\u540D\u79F0",value:"\u603B\u90E8\u529E\u516C\u7528\u54C1\u91C7\u8D2D\u9879\u76EE"},{name:"\u5408\u540C\u72B6\u6001",value:"\u5C65\u884C\u4E2D",type:{key:"contractStatus",value:"inProgress"}},{name:"\u5408\u540C\u7F16\u53F7",value:"BH00010"},{name:"\u5408\u540C\u7C7B\u578B",value:"\u4E3B\u5408\u540C"},{name:"\u5408\u540C\u6536\u4ED8\u7C7B\u578B",value:"\u4ED8\u6B3E"},{name:"\u5408\u540C\u91D1\u989D",value:"5,000,000\u5143"},{name:"\u7532\u65B9",value:"\u817E\u8BAF\u79D1\u6280\uFF08\u6DF1\u5733\uFF09\u6709\u9650\u516C\u53F8"},{name:"\u4E59\u65B9",value:"\u6B27\u5C1A"},{name:"\u5408\u540C\u7B7E\u8BA2\u65E5\u671F",value:"2020-12-20"},{name:"\u5408\u540C\u751F\u6548\u65E5\u671F",value:"2021-01-20"},{name:"\u5408\u540C\u7ED3\u675F\u65E5\u671F",value:"2022-12-20"},{name:"\u5408\u540C\u9644\u4EF6",value:"\u603B\u90E8\u529E\u516C\u7528\u54C1\u91C7\u8D2D\u9879\u76EE\u5408\u540C.pdf",type:{key:"contractAnnex",value:"pdf"}},{name:"\u5907\u6CE8",value:"--"},{name:"\u521B\u5EFA\u65F6\u95F4",value:"2020-12-22 10:00:00"}]}getTableColumns(){return[{width:300,ellipsis:!0,colKey:"index",title:"\u7533\u8BF7\u53F7",sorter:(u,e)=>u.index.substr(3)-e.index.substr(3)},{width:200,ellipsis:!0,colKey:"pdName",title:"\u4EA7\u54C1\u540D\u79F0",sorter:(u,e)=>u.pdName.length-e.pdName.length},{width:200,ellipsis:!0,colKey:"pdNum",title:"\u4EA7\u54C1\u7F16\u53F7"},{width:200,ellipsis:!0,colKey:"purchaseNum",title:"\u91C7\u8D2D\u6570\u91CF",sorter:(u,e)=>u.purchaseNum-e.purchaseNum},{width:200,ellipsis:!0,colKey:"adminName",title:"\u7533\u8BF7\u90E8\u95E8"},{width:200,ellipsis:!0,colKey:"updateTime",title:"\u521B\u5EFA\u65F6\u95F4",sorter:(u,e)=>Date.parse(u.updateTime)-Date.parse(e.updateTime)},{align:"left",fixed:"right",width:200,className:"test2",colKey:"op",title:"\u64CD\u4F5C"}]}getPropUpData(){return{formData:{...{name:"",warning:"",success:"",failB:"",warningB:"",loading:"",add:"",help:""}},courseOptions:[{label:"\u8BED\u6587",value:"1"},{label:"\u6570\u5B66",value:"2"},{label:"\u82F1\u8BED",value:"3"}],options:[{label:"\u8D44\u6E90\u521D\u59CB\u5316\u540E",value:"beijing"},{label:"\u4E0A\u6D77",value:"shanghai"}],options1:[{label:"\u8D44\u6E90\u521D\u59CB\u5316\u540E",value:"guangzhou"},{label:"\u6DF1\u5733",value:"shenzhen"},{label:"\u4E1C\u839E",value:"dongguang"}],options2:[{label:"\u8D44\u6E90\u521D\u59CB\u5316\u540E",value:"nanjing"},{label:"\u82CF\u5DDE",value:"\u82CF\u5DDE"},{label:"\u65E0\u9521",value:"wuxi"}],tSelectOptions:[{label:"Sanzhang",value:"1"},{label:"ls",value:"2"},{label:"James",value:"3"}]}}}var i=new I,S=d.extend({components:{ChevronRightIcon:k,CartIcon:z},props:{data:{type:Object,default:()=>({})}}}),_=function(){var t=this,u=t.$createElement,e=t._self._c||u;return e("div",{staticClass:"operator-block operator-gap"},[e("div",{staticClass:"operator-content"},[e("div",{staticClass:"operator-title"},[e("cart-icon",{staticClass:"operator-title-icon"}),e("h1",[t._v(t._s(t.data.name))]),e("div",{staticClass:"operator-title-subtitle"},[t._v(" "+t._s(t.data.subtitle)+" ")]),e("div",{staticClass:"operator-title-tags"},[e("t-tag",{staticClass:"operator-title-tag",attrs:{theme:"success",size:"small"}},[t._v(" "+t._s(t.data.size)+" ")]),e("t-tag",{staticClass:"operator-title-tag",attrs:{size:"small"}},[t._v(" "+t._s(t.data.cpu)+" ")]),e("t-tag",{staticClass:"operator-title-tag",attrs:{size:"small"}},[t._v(" "+t._s(t.data.memory)+" ")])],1)],1),e("div",{staticClass:"operator-item"},[e("span",{staticClass:"operator-item-info"},[t._v(t._s(t.data.info))]),e("chevron-right-icon",{staticClass:"operator-item-icon",attrs:{size:"small"}})],1)]),e("div",{staticClass:"operator-footer"},[e("span",{staticClass:"operator-footer-percentage"},[t._v(t._s(t.data.use)+" / "+t._s(t.data.stock)+"\uFF08\u53F0\uFF09")]),e("t-progress",{staticClass:"operator-progress",attrs:{theme:"line",percentage:t.data.use/t.data.stock*100,label:!1,color:t.data.use/t.data.stock<.5?"#E24D59":"","track-color":t.data.use/t.data.stock<.5?"var(--td-error-color-1)":"var(--td-brand-color-1)"}})],1)])},N=[];_._withStripped=!0;const c={};var C=v(S,_,N,!1,T,"06e0cc29",null,null);function T(t){for(let u in c)this[u]=c[u]}C.options.__file="src/pages/detail/advanced/components/Product.vue";var j=function(){return C.exports}();const M=[{name:"MacBook Pro 2021",subTitle:"MacBook Pro 2021",size:"13.3 \u82F1\u5BF8",cpu:"Apple M1",memory:"RAM 16GB",info:"\u6700\u9AD8\u53EF\u9009\u914D 16GB \u5185\u5B58 \xB7 \u6700\u9AD8\u53EF\u9009\u914D 2TB \u5B58\u50A8\u8BBE\u5907 \u7535\u6C60\u7EED\u822A\u6700\u957F\u8FBE 18 \u5C0F\u65F6",use:1420,stock:1500},{name:"Surface Laptop Go",subTitle:"\u5FAE\u8F6F\uFF08Microsoft Corporation\uFF09",size:"12.4 \u82F1\u5BF8",cpu:"Core i7",memory:"RAM 16GB",info:"\u5E38\u89C4\u4F7F\u7528 Surface\uFF0C\u7EED\u822A\u65F6\u95F4\u6700\u957F\u53EF\u8FBE13\u5C0F\u65F6 \u968F\u65F6\u4F34\u60A8\u5DE5\u4F5C",use:120,stock:2e3}];var $={name:"DetailAdvanced",components:{Product:j,OrderDescendingIcon:O,AddIcon:w},data(){return{data:[],prefix:A,updateCurrent:0,columns:i.getTableColumns(),baseInfoData:i.getBaseInfoData(),bordered:!0,hover:!0,visible:!1,pagination:{defaultPageSize:10,total:100,defaultCurrent:1,pageSizeOptions:[]},PRODUCT_LIST:M}},async mounted(){setInterval(()=>{this.updateCurrent>5&&(this.updateCurrent=-1),this.updateCurrent+=1},2e3),this.$request.get("/api/get-purchase-list").then(t=>{if(t.code===0){const{list:u=[]}=t.data;this.data=u,this.pagination={...this.pagination,total:u.length}}}).catch(t=>{console.log(t)})},methods:{onAlertChange(t){console.log(t)},sortChange(t){console.log(t)},rehandleChange(t,u){console.log("\u7EDF\u4E00Change",t,u)},listClick(t){console.log(t),this.visible=!0},deleteClickOp(t){console.log(t,"e"),this.data.splice(t.rowIndex,1)},onConfirm(){this.visible=!1}}},g=function(){var t=this,u=t.$createElement,e=t._self._c||u;return e("div",{staticClass:"detail-advanced"},[e("t-card",{staticClass:"advanced-card",attrs:{title:"\u57FA\u672C\u4FE1\u606F"}},[e("div",{staticClass:"info-block"},t._l(t.baseInfoData,function(a,s){var r;return e("div",{key:s,staticClass:"info-item"},[e("h1",[t._v(t._s(a.name))]),e("span",{class:(r={},r.inProgress=a.type&&a.type.value==="inProgress",r.pdf=a.type&&a.type.value==="pdf",r)},[a.type&&a.type.key==="contractStatus"?e("i"):t._e(),t._v(" "+t._s(a.value)+" ")])])}),0)]),e("t-card",{staticClass:"container-base-margin-top",attrs:{title:"\u53D1\u7968\u8FDB\u5EA6"}},[e("t-row",{class:t.prefix+"-operator-row row-padding",attrs:{justify:"space-between"}},[[e("t-steps",{attrs:{current:t.updateCurrent}},[e("t-step-item",{attrs:{title:"\u7533\u8BF7\u63D0\u4EA4",content:"\u5DF2\u4E8E12\u670821\u65E5\u63D0\u4EA4"}}),e("t-step-item",{attrs:{title:"\u7535\u5B50\u53D1\u7968",content:"\u9884\u8BA11\uFF5E3\u4E2A\u5DE5\u4F5C\u65E5"}}),e("t-step-item",{attrs:{title:"\u53D1\u7968\u5DF2\u90AE\u5BC4",content:"\u7535\u5B50\u53D1\u7968\u5F00\u51FA\u540E7\u4E2A\u5DE5\u4F5C\u65E5\u5185\u8054\u7CFB"}}),e("t-step-item",{attrs:{title:"\u5B8C\u6210",content:""}})],1)]],2)],1),e("t-card",{staticClass:"container-base-margin-top",attrs:{title:"\u4EA7\u54C1\u76EE\u5F55"}},[e("template",{slot:"option"},[e("t-radio-group",{attrs:{"default-value":"dateVal"},on:{change:t.onAlertChange}},[e("t-radio-button",{attrs:{value:"dateVal"}},[t._v("\u5B63\u5EA6")]),e("t-radio-button",{attrs:{value:"monthVal"}},[t._v("\u6708\u4EFD")])],1)],1),e("t-row",{staticClass:"product-block-container",attrs:{gutter:16}},[e("t-col",{attrs:{xl:4}},[e("div",{staticClass:"product-add"},[e("div",{staticClass:"product-sub"},[e("add-icon",{staticClass:"product-sub-icon"}),e("span",[t._v("\u65B0\u589E\u4EA7\u54C1")])],1)])]),t._l(t.PRODUCT_LIST,function(a,s){return e("t-col",{key:s,attrs:{xl:4}},[e("product",{attrs:{data:a}})],1)})],2)],2),e("t-card",{staticClass:"container-base-margin-top",attrs:{title:"\u4EA7\u54C1\u91C7\u8D2D\u660E\u7EC6"}},[e("t-table",{attrs:{columns:t.columns,data:t.data,pagination:t.pagination,hover:t.hover,size:"large","row-key":"index"},on:{"sort-change":t.sortChange,change:t.rehandleChange},scopedSlots:t._u([{key:"pdName",fn:function(a){var s=a.row;return[e("span",[t._v(" "+t._s(s.pdName)+" "),s.pdType?e("t-tag",{attrs:{size:"small"}},[t._v(t._s(s.pdType))]):t._e()],1)]}},{key:"purchaseNum",fn:function(a){var s=a.row;return[e("span",[t._v(" "+t._s(s.purchaseNum)+" "),s.purchaseNum>50?e("t-tag",{attrs:{theme:"danger",variant:"light",size:"small"}},[t._v("\u8D85\u9884\u7B97")]):t._e()],1)]}},{key:"op",fn:function(a){return[e("a",{staticClass:"t-button-link",on:{click:function(s){return t.listClick(a)}}},[t._v("\u7BA1\u7406")]),e("a",{staticClass:"t-button-link",on:{click:function(s){return t.deleteClickOp(a)}}},[t._v("\u5220\u9664")])]}}])},[e("order-descending-icon",{attrs:{slot:"op-column"},slot:"op-column"})],1)],1),e("t-dialog",{attrs:{header:"\u57FA\u672C\u4FE1\u606F",visible:t.visible},on:{"update:visible":function(a){t.visible=a},confirm:t.onConfirm}},[e("div",{attrs:{slot:"body"},slot:"body"},[e("div",{staticClass:"dialog-info-block"},t._l(t.baseInfoData,function(a,s){var r;return e("div",{key:s,staticClass:"info-item"},[e("h1",[t._v(t._s(a.name))]),e("span",{class:(r={},r.inProgress=a.type&&a.type.value==="inProgress",r.pdf=a.type&&a.type.value==="pdf",r)},[a.type&&a.type.key==="contractStatus"?e("i"):t._e(),t._v(" "+t._s(a.value)+" ")])])}),0)])])],1)},K=[];g._withStripped=!0;const p={};var m=v($,g,K,!1,R,"b4e2ae62",null,null);function R(t){for(let u in p)this[u]=p[u]}m.options.__file="src/pages/detail/advanced/index.vue";var V=function(){return m.exports}();export{V as default};
