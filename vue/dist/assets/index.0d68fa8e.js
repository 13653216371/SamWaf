import{V as h,_ as m,u as _,I as y,a as b,D as P,p as C,m as S,k as j,n as z}from"./index.46025505.js";import{N as I}from"./index.6b44d315.js";var w=["size"];function p(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,a)}return e}function d(t){for(var s=1;s<arguments.length;s++){var e=arguments[s]!=null?arguments[s]:{};s%2?p(Object(e),!0).forEach(function(a){b(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var M={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4.64 10.5H13V4H3v7.87l1.64-1.37zm-2.15 3.09a.3.3 0 01-.49-.23V4a1 1 0 011-1h10a1 1 0 011 1v6.5a1 1 0 01-1 1H5l-2.5 2.09z",fillOpacity:.9}}]},x=h.extend({name:"ChatIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(s,e){var a=e.props,n=e.data,r=a.size,o=m(a,w),i=_(r),l=i.className,c=i.style,u=d(d({},o||{}),{},{id:"chat",icon:M,staticClass:l,style:c});return n.props=u,s(y,n)}}),V=["size"];function v(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,a)}return e}function f(t){for(var s=1;s<arguments.length;s++){var e=arguments[s]!=null?arguments[s]:{};s%2?v(Object(e),!0).forEach(function(a){b(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var E={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 3h9v9h1V3a1 1 0 00-1-1H4v1z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M6.58 9.42v2.91h1V9.42h2.75v-1H7.58V5.67h-1v2.75H3.67v1h2.91z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M2 13a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H3a1 1 0 00-1 1v8zm1-8h8v8H3V5z",fillOpacity:.9}}]},k=h.extend({name:"QueueIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(s,e){var a=e.props,n=e.data,r=a.size,o=m(a,V),i=_(r),l=i.className,c=i.style,u=f(f({},o||{}),{},{id:"queue",icon:E,staticClass:l,style:c});return n.props=u,s(y,n)}});const B=[{label:"\u5168\u90E8\u901A\u77E5",value:"msgData"},{label:"\u672A\u8BFB\u901A\u77E5",value:"unreadMsg"},{label:"\u5DF2\u8BFB\u901A\u77E5",value:"readMsg"}];var $={name:"DetailSecondary",components:{QueueIcon:k,DeleteIcon:P,ChatIcon:x},data(){return{NOTIFICATION_TYPES:I,TAB_LIST:B,prefix:C,data:[],tabValue:"msgData",visible:!1,selectedItem:void 0}},computed:{...S("notification",["msgData"]),...j("notification",["unreadMsg","readMsg"]),msgDataList(){return this.tabValue==="msgData"?this.msgData:this.tabValue==="unreadMsg"?this.unreadMsg:this.tabValue==="readMsg"?this.readMsg:[]}},methods:{handleClickDeleteBtn(t){this.visible=!0,this.selectedItem=t},setReadStatus(t){const s=this.msgData;s.forEach(e=>{e.id===t.id&&e.status&&(e.status=!1)}),this.$store.commit("notification/setMsgData",s)},deleteMsg(){const t=this.selectedItem,s=this.msgData;s.forEach((e,a)=>{e.id===t.id&&s.splice(a,1)}),this.visible=!1,this.$store.commit("notification/setMsgData",s)}}},O=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"secondary-notification"},[e("t-tabs",{model:{value:t.tabValue,callback:function(a){t.tabValue=a},expression:"tabValue"}},t._l(t.TAB_LIST,function(a,n){return e("t-tab-panel",{key:n,attrs:{value:a.value,label:a.label}},[t.msgDataList.length>0?e("t-list",{staticClass:"secondary-msg-list",attrs:{split:!0}},t._l(t.msgDataList,function(r,o){return e("t-list-item",{key:o,scopedSlots:t._u([{key:"action",fn:function(){return[e("span",{staticClass:"msg-date"},[t._v(t._s(r.date))]),e("div",{staticClass:"msg-action"},[e("t-tooltip",{staticClass:"set-read-icon",attrs:{"overlay-style":{margin:"6px"},content:r.status?"\u8BBE\u4E3A\u5DF2\u8BFB":"\u8BBE\u4E3A\u672A\u8BFB"}},[e("span",{staticClass:"msg-action-icon",on:{click:function(i){return t.setReadStatus(r)}}},[r.status?e("queue-icon",{attrs:{size:"16px"}}):e("chat-icon")],1)]),e("t-tooltip",{attrs:{content:"\u5220\u9664\u901A\u77E5","overlay-style":{margin:"6px"}}},[e("span",{on:{click:function(i){return t.handleClickDeleteBtn(r)}}},[e("delete-icon",{attrs:{size:"16px"}})],1)])],1)]},proxy:!0}],null,!0)},[e("p",{class:["content",{unread:r.status}],on:{click:function(i){return t.setReadStatus(r)}}},[e("t-tag",{attrs:{size:"small",theme:t.NOTIFICATION_TYPES[r.quality],variant:"light"}},[t._v(" "+t._s(r.type)+" ")]),t._v(" "+t._s(r.content)+" ")],1)])}),1):e("div",{staticClass:"secondary-msg-list__empty-list"},[e("img",{attrs:{src:"https://tdesign.gtimg.com/pro-template/personal/nothing.png",alt:"\u7A7A"}}),e("p",[t._v("\u6682\u65E0\u901A\u77E5")])])],1)}),1)],1),e("t-dialog",{attrs:{header:"\u5220\u9664\u901A\u77E5",body:`\u786E\u8BA4\u5220\u9664\u901A\u77E5\uFF1A${t.selectedItem&&t.selectedItem.content}\u5417\uFF1F`,visible:t.visible,onConfirm:t.deleteMsg},on:{"update:visible":function(a){t.visible=a}}})],1)},T=[];O._withStripped=!0;const g={};var D=z($,O,T,!1,N,"85700486",null,null);function N(t){for(let s in g)this[s]=g[s]}D.options.__file="src/pages/detail/secondary/index.vue";var H=function(){return D.exports}();export{H as default};
